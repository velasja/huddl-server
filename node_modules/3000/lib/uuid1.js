/**
 * To get a function which create uuid1 use MAC address.
 */
module.exports = function(node) {
    'use strict';
    var uuid = require('node-uuid');
    var getNode = function() {
        var interfaces = require('os').networkInterfaces();
        for (let i in interfaces) {
            for (let j of interfaces[i]) {
                if (j.mac !== '00:00:00:00:00:00') {
                    return Buffer.from(j.mac.replace(/:/g, ''), 'hex');
                }
            }
        }
        return Buffer.from(uuid.v1().slice(24), 'hex');
    };
    node = node ? node : getNode();
    return function() {
        return uuid.v1({
            node: node
        });
    };
};

module.exports.uuid1 = module.exports();
